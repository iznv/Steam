# Steam

Презентация проекта со скриншотами [тут](FEATURES.pdf).

<br/>

## Описание архитектурного решения

<br/>

Язык - **Swift**

Архитектура - **MVVM**

Навигация - **Координаторы**

Хранение данных - **CoreData**

<br/>
  
Фреймворки:

- **ApiKit**

Сетевые запросы и модели к ним.

- **SteamKit**

Стимовские запросы поделены на сервисы. Подобное деление осуществляется и в проекте.

- **DataKit**

Работа с CoreData - модель данных и запросы.

<br/>

Сервисы:

- **GamesService**

Позволяет сохранять и получать список игр.

- **AuthService**

Хранит steamId залогиненного пользователя и позволяет узнать залогинен он или нет.

- **NewsService**

Приводит новостные статьи к единому виду, который можно отобразить в WebView. Статей два типа - html и bbcode. Bbcode конвертируется в html.

- **StatHistoryService**

Сохраняет историю статистик и преобразует данные в подходящее представление для построения графика.

<br/>

## Обоснование использования зависимостей проекта

- **Utils**

Мой pod с базовыми классами и расширениями, которые я часто использую. Чтобы не писать их каждый раз, вынес туда и использую в своих проектах.

- **FlagKit**

Отдает флаги по коду страны. Хотелось добавить такой функционал, но добавлять картинки для каждой страны - бессмысленная работа, если это уже сделано.

- **R.swift**

Генерация картинок, строк из ресурсов. Сокращает время разработки.

- **ScrollableGraphView**

График. Приятная анимация появления, широкие возможности кастомизации, скролл.

- **SnapKit**

Быстрая и легкая верстка. Гораздо быстрее и проще, чем с анчорами.

- **StatefulViewController**

Работа с состояниями экрана: загрузка/пустое состояние/нет интернета/прочее. Удобно переключаться между состояниями и создавать кастомные состояния.

- **TableKit**

Значительно упрощает работу со сложными таблицами с несколькими типами ячеек. Легко позволяет показывать/не показывать какие-либо ячейки в зависимости от условий. Никаких дата сорсов и делегатов.

- **UIScrollView-InfiniteScroll**

Пагинация. Работает не лучшим образом, но на свою реализацию уже не хватило времени.

- **WEBBCode**

Преобразует bbcode в html. Необходима для отображения новостей.

<br/>

## Используемые методы из Steam API

#### api.steampowered.com

- ISteamApps

GetAppList

- IPlayerService

GetBadges

GetOwnedGames

GetRecentlyPlayedGames

- ISteamUser

GetFriendList

GetPlayerSummaries

GetUserGroupList

- ISteamUserStats

GetNumberOfCurrentPlayers

GetSchemaForGame

GetUserStatsForGame

- ISteamNews

GetNewsForApp

#### store.steampowered.com

- api/appdetails

<br/>

## Предложения по дальнейшему улучшению кода проекта

- Избавиться от сервисов-синглтонов и явных зависимостей сервисов, покрыть их протоколами.

- Структура многих контроллеров, которые загружают и отображают данные, очень похожа. Имеет смысл сделать базовый класс.

<br/>

## Предложения по дальнейшему улучшению функционала

- Добавить background fetch для обновления списка игр.

- Добавить переключатель тем в настройках приложения.

- На экране Activity можно было бы отображать общее время сыгранного за последние две недели.

- На экран игры можно добавить скриншоты, видео, процент глобальных достижений и количество рекомендаций.

- Для игр пользователя можно было бы сделать сортировку по имени игры и по сыгранному времени.

- Добавить поиск пользователя по steamId и vanity url.